{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Slideshow Section -->
<div id="mainSlideshow" class="carousel slide" data-bs-ride="carousel">
    <h1 class="text-center mb-4" style="color: #FFD700; font-size: 2.5rem; font-weight: bold; letter-spacing: 2px;">
            Gallery
        </h1>

    <div class="carousel-inner">
        {% for image in images %}
        <div class="carousel-item{% if forloop.first %} active{% endif %}">
            <img src="{{ image.image.url }}" class="d-block w-100 img-thumbnail" alt="{{ image.title }}" style="border-radius: 15px;">
        </div>
        {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainSlideshow" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainSlideshow" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Gallery Section Below Slideshow -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">
            {% for image in images %}
            <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- Make images clickable and open in a modal -->
                <a href="#imageModal{{ forloop.counter }}" data-bs-toggle="modal">
                    <img src="{{ image.image.url }}" class="img-fluid img-thumbnail" alt="{{ image.title }}" style="border-radius: 15px;">
                </a>
                <!-- Modal for viewing image -->
                <div class="modal fade" id="imageModal{{ forloop.counter }}" tabindex="-1" aria-labelledby="imageModalLabel{{ forloop.counter }}" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="imageModalLabel{{ forloop.counter }}">{{ image.title }}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <img src="{{ image.image.url }}" class="img-fluid" alt="{{ image.title }}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
